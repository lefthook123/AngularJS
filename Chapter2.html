<!DOCTYPE html>

<html ng-app = "chp2App">

<head>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
<script src="Chapter2.js"></script>
<style type="text/css">
	.error {
		background-color: red;
		}
	.warning {
		background-color: yellow;
	}	
	.selected {
		background-color: lightgreen;
	}
</style>
</head>

<body ng-controller="Ch2Controller">
	{{welcome.text}}
	<form ng-submit="requestFunding()" ng-controller="StartUpController">
		Starting: <input ng-change="computeNeeded" ng-model="funding.startingEstimate">
		Recommendation: {{funding.needed}}
		<button type="submit">Fund my startup!</button>
		<button type="button" ng-click="reset()">Reset</button>
	</form>



	<ul ng-controller="StudentListController">
		Name:  <input ng-model="newStudent.name">
		Id:    <input ng-model="newStudent.id">
		<button type="button" ng-click="addStudent()">Add New Student</button>
		<li ng-repeat="student in students">{{$index+1}}---{{student.name}}|{{student.id}}---{{$first}}</li>
	</ul>


	<div ng-controller="DeathrayMenuController">
		<button ng-click='toggleMenu()'>Toggle</button>
		<ul ng-show='menuState.show'> 
			<li ng-click='stun()'>Stun</li>
			<li ng-click='disintegrate()'>Disintegrate</li>
			<li ng-click='erase()'>Erase from history</li>
		</ul>

	</div>


	<div ng-controller="HeaderController">
		<div ng-class='{error: isError, warning: isWarning}'>{{messageText}}</div>
		<button ng-click='showError()'>Simulate Error</button>
		<button ng-click='showWarning()'>Simulate Warning</button>
	
		<table>
			<tr ng-repeat="restaurant in directory" ng-click="selectRestaurant($index)" ng-class="{selected:$index==selectedRow}">
				<td>{{restaurant.name}}</td>
				<td>{{restaurant.cuisine}}</td>
			</tr>
		</table>


	</div>



	<div ng-controller="CartController">
		<div ng-repeat="item in items">
			<span>{{item.title}}</span>
			<input ng-model="item.quantity">
			<span>{{item.price|currency}}</span>
			<span>{{item.price * item.quantity|currency}}</span>
		</div>
		<div>Total: {{totalCart() |currency}}</div>
		<div>Discount: {{bill.discount|currency}}</div>
		<div>Subtotal: {{subtotal()|currency}}</div>
	</div>


</body>


</html>